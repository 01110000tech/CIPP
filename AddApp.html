<main>
    <header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10">
        <div class="container-xl px-4">
            <div class="page-header-content pt-4">
                <div class="row align-items-center justify-content-between">
                    <div class="col-auto mt-4">
                        <h1 class="page-header-title">
                            <div class="page-header-icon"><i data-feather="arrow-right-circle"></i></div>
                            Add App Wizard
                        </h1>
                        <div class="page-header-subtitle">This wizard guides you through adding an app to multiple
                            tenants - NOT YET READY
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Main page content-->
    <div class="container-xl px-4 mt-n10">
        <!-- Wizard card example with navigation-->
        <div class="card">
            <div class="card-header border-bottom">
                <!-- Wizard navigation-->
                <div class="nav nav-pills nav-justified flex-column flex-xl-row nav-wizard" id="cardTab" role="tablist">
                    <!-- Wizard navigation item 1-->
                    <a class="nav-item nav-link active" id="wizard1-tab" href="#wizard1" data-bs-toggle="tab" role="tab"
                        aria-controls="wizard1" aria-selected="true">
                        <div class="wizard-step-icon">1</div>
                        <div class="wizard-step-text">
                            <div class="wizard-step-text-name">Tenant choice</div>
                            <div class="wizard-step-text-details">Choose the tenants to create the device for.</div>
                        </div>
                    </a>
                    <!-- Wizard navigation item 2-->
                    <a class="nav-item nav-link" id="wizard2-tab" href="#wizard2" data-bs-toggle="tab" role="tab"
                        aria-controls="wizard2" aria-selected="true">
                        <div class="wizard-step-icon">2</div>
                        <div class="wizard-step-text">
                            <div class="wizard-step-text-name">Setup app</div>
                            <div class="wizard-step-text-details">Supply the app information</div>
                        </div>
                    </a>
                    <!-- Wizard navigation item 3-->
                    <a class="nav-item nav-link" id="wizard3-tab" href="#wizard3" data-bs-toggle="tab" role="tab"
                        aria-controls="wizard3" aria-selected="true">
                        <div class="wizard-step-icon">3</div>
                        <div class="wizard-step-text">
                            <div class="wizard-step-text-name">Review and confirm</div>
                            <div class="wizard-step-text-details">Upload the app</div>
                        </div>
                    </a>

                </div>
            </div>
            <form id="StandardsForm">
                <div class="card-body">
                    <div class="tab-content" id="cardTabContent">

                        <!-- Wizard tab pane item 1-->
                        <div class="tab-pane py-5 py-xl-10 fade show active" id="wizard1" role="tabpanel"
                            aria-labelledby="wizard1-tab">

                            <div class="row justify-content-center">
                                <div class="col-xxl-6 col-xl-8">
                                    <h3 class="text-primary">Step 1</h3>
                                    <h5 class="card-title mb-4">Choose a tenant</h5>
                                    Select the list of tenants that should receive your application <br>
                                    The select all checkbox selects all items on the current page.
                                    <div>
                                        <table id="datatablesSimple">
                                            <table cellpadding="0" cellspacing="0"
                                                class="datatable-1 table table-striped" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th> <input class="form-check-input" id="selectAll"
                                                                type="checkbox" value="true" /></th>
                                                        <th>Tenant name</th>
                                                        <th>Default Domain Name</th>
                                                    </tr>
                                                </thead>
                                                <tbody id='AccountTable'>
                                                </tbody>
                                                <tfoot>
                                                    <tr>
                                                        <th></th>
                                                        <th>Tenant name</th>
                                                        <th>Default Domain Name</th>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                    </div>

                                    <hr class="my-4" />
                                    <div class="d-flex justify-content-between">

                                        <button class="btn btn-light disabled" type="button" disabled>Previous</button>
                                        <a class="nav-link active wizardbutton" href="#wizard2-tab">
                                            <button class="btn btn-primary btnNext" type="button">Next</button></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Wizard tab pane item 2-->
                        <div class="tab-pane py-5 py-xl-10 fade" id="wizard2" role="tabpanel"
                            aria-labelledby="wizard2-tab">
                            <div class="row justify-content-center">
                                <div class="col-xxl-6 col-xl-8">
                                    <h3 class="text-primary">Step 2</h3>
                                    <h5 class="card-title mb-4">Enter app information</h5>
                                    <div class="row gx-3 mb-3">
                                        <form id="IntuneForm">
                                            <input type="file" id="file" style="display:none;"
                                                onchange="form.submit()" />
                                            <button class="btn btn-primary" onclick="thisFileUpload();"
                                                type="button">Upload
                                                intunewin file</button>
                                        </form>

                                        <!-- Form Group (first name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppName">Application Name</label>
                                            <input class="form-control" id="AppName" type="text"
                                                placeholder="Enter an application name" value="" name="AppName" />
                                            <input id="Filename" type="hidden" value="" name="Filename" />
                                        </div>
                                        <!-- Form Group (last name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppPub">Application
                                                Publisher</label>
                                            <input class="form-control" id="AppPub" type="text"
                                                placeholder="Enter the application Publisher" value="" name="AppPub" />
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="small mb-1" for="AppDesc">Description</label>
                                        <input class="form-control" id="AppDesc" placeholder="Enter the description"
                                            value="" name="AppDesc" />
                                    </div>
                                    <!-- Form Row-->
                                    <div class="row gx-3 mb-3">
                                        <!-- Form Group (first name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppInstall">Install Command</label>
                                            <input class="form-control" id="AppInstall" type="text"
                                                placeholder="Enter install command " value="" name="AppInstall" />
                                        </div>
                                        <!-- Form Group (last name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppUninstall">Uninstall Command</label>
                                            <input class="form-control" id="AppUninstall" type="text"
                                                placeholder="Enter uninstall command" value="" name="AppUninstall" />
                                        </div>
                                    </div>
                                    <div class="row gx-3 mb-3">
                                        <!-- Form Group (first name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppDetectPath">Detection path</label>
                                            <input class="form-control" id="AppDetectPath" type="text"
                                                placeholder="C:\Program files\MyApp" value="" name="AppDetectPath" />
                                        </div>
                                        <!-- Form Group (last name)-->
                                        <div class="col-md-6">
                                            <label class="small mb-1" for="AppDetectFile">Detection file or
                                                folder</label>
                                            <input class="form-control" id="AppDetectFile" type="text"
                                                placeholder="Filename.exe" value="" name="LastName" />
                                        </div>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" id="AppAsSystem" name="AppAsSystem"
                                            type="checkbox" checked value="true" />
                                        <label class="form-next buttocheck-label" for="AppAsSystem">Install as
                                            SYSTEM</label>
                                    </div>

                                    <div class="form-check mb-2">
                                        <input class="form-check-input" id="AppRestart" name="AppRestart"
                                            type="checkbox" checked value="true" />
                                        <label class="form-next buttocheck-label" for="AppRestart">Do not
                                            restart device</label>
                                    </div>
                                    <!-- Form Group (email address)-->

                                    <hr class="my-4" />
                                    <div class="d-flex justify-content-between">
                                        <a class="nav-link active wizardbutton" href="#wizard1-tab">
                                            <button class="btn btn-light" type="button">Previous</button></a>
                                        <a class="nav-link active wizardbutton" href="#wizard3-tab">
                                            <button class="btn btn-primary">Next</button>
                                        </a>
                                    </div>

                                </div>
                            </div>
                        </div>
            </form>
            <!-- Wizard tab pane item 3-->
            <div class="tab-pane py-5 py-xl-10 fade" id="wizard3" role="tabpanel" aria-labelledby="wizard3-tab">
                <div class="row justify-content-center">
                    <div class="col-xxl-6 col-xl-8">
                        <h3 class="text-primary">Step 3</h3>
                        <h5 class="card-title mb-4">Confirm and apply</h5>
                        <form>
                            <section id="FormOverview">
                    </div>
                    <hr class="my-4" />
                    <div class="d-flex justify-content-between">
                        <a class="nav-link active wizardbutton" href="#wizard2-tab">
                            <button class="btn btn-light" type="button">Previous</button></a>
                        <a class="nav-link active wizardbutton" href="#wizard4-tab">
                            <button class="btn btn-primary" onclick='PostForm("StandardsForm","api/AddApp")'
                                type="button">Apply</button>
                        </a>
                    </div>

                </div>
            </div>
        </div>

    </div>
    </div>
    </div>
    </div>
</main>
</body>


<button class="btn btn-primary" id="PopModal" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"
    style="display:none;"></button>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Results</h5>
            </div>
            <div class="modal-body">
                <section id="APIContent">
                    <div class="spinner-border text-primary" role="status">
                        <span class="sr-only"></span>
                    </div></span>
                </section>
            </div>
            <div class="modal-footer"><button class="btn btn-secondary" type="button"
                    data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
    <script src="js/datatables/bootstable.min.js"></script>
    <script src="js/datatables/jquery.dataTables.js"></script>
    <script src="js/datatables/WizardButtons.js"></script>
    <script src="js/datatables/datatablestenantsWizards.js"></script>
    <script>
        function thisFileUpload() {
            document.getElementById("file").click();
        };

        document.getElementById('file').onchange = function () {
            upload();
            var filename = $('input[type=file]').val().split('\\').pop();
            $('#Filename').value(filename);
        };
        function upload() {
            var upload = document.getElementById('file');
            var image = upload.files[0];
            $.ajax({
                url: "/api/uploadintunewin",
                type: "POST",
                data: new FormData($('#intuneform')[0]),
                contentType: false,
                cache: false,
                processData: false,
                success: function (msg) { }
            });
        };
    </script>

    </html>